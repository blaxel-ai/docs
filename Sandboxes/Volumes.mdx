---

title: 'Volumes'

sidebarTitle: "Overview"

description: 'Persist files long-term by attaching and using volumes.'

---

<Warning>Blaxel Volumes are currently in private preview. Please [contact us](https://blaxel.ai/contact?message=I+would+like+to+get+access+to+volumes+because+&purpose=volumes&origin=docs) if you would like to get access before the public release date.</Warning>

Blaxel Volumes provide **persistent storage that survives sandbox destruction and recreation**, enabling stateful development environments and data retention across VM lifecycle events.

While Blaxel automatically snapshots the full state of a sandbox at scale down and stores it in a warm storage for ultra-fast boot times, volumes offer a more cost-effective solution to persist files for weeks to years. Use [volume templates](Volumes-templates) to start from a pre-populated filesystem.

## Create a volume

To create a standalone volume, you must provide a unique `name` and specify its `size` in megabytes (MB). You can also specify optional labels. This volume exists independently of any sandbox.

<Accordion title="Set up authentication to Blaxel">

The Blaxel SDK authenticates with your workspace using credentials from these sources, in priority order:

1. when running on Blaxel, authentication is handled automatically
2. variables in your `.env` file (`BL_WORKSPACE` and `BL_API_KEY`, or see [this page](../Agents/Variables-and-secrets) for other authentication options).
3. environment variables from your machine
4. configuration file created locally when you log in through [Blaxel CLI](../cli-reference/introduction) (or deploy on Blaxel)

When developing locally, the recommended method is to just **log in to your workspace with Blaxel CLI.** This allows you to run Blaxel SDK functions that will automatically connect to your workspace without additional setup. When you deploy on Blaxel, this connection persists automatically.

When running Blaxel SDK from a remote server that is not Blaxel-hosted, we recommend using environment variables as described in the third option above.

</Accordion>

```tsx
import { SandboxInstance, VolumeInstance } from "@blaxel/core";

const volume = await VolumeInstance.create({
  name: "my-volume",
  size: 2048,          // in MB
  region: "us-pdx-1",   // if not specified, Blaxel will choose a default region
  labels: { env: "test", project: "12345" }, // labels
});
```

You can create a volume from a [template](Volumes-templates) to automatically pre-populate it with files.

```tsx
const volume = await VolumeInstance.createIfNotExists({
  name: "myvolume",
  template: "mytemplate:1"  // Use template-name:revision or template-name:latest
});
```

<Card title="Manage volume templates" icon="database" href="/Sandboxes/Volumes-templates">
Create volumes containing the same set of files every time.
</Card>

## Delete a volume

Delete a volume by calling:

- the class-level `delete()` method with the volume `name` as argument, or

    <CodeGroup>
    ```typescript TypeScript
    import { VolumeInstance } from "@blaxel/core";

    // Delete volume using class-level method
    await VolumeInstance.delete("my-volume");
    ```

    ```python Python
    from blaxel.core import VolumeInstance

    # Delete volume using class-level method
    await VolumeInstance.delete("my-volume")
    ```
    </CodeGroup>

- by calling the instance-level `delete()` method:

    <CodeGroup>
    ```typescript TypeScript
    import { VolumeInstance } from "@blaxel/core";

    // Get existing volume
    const volume = await VolumeInstance.get("my-volume");

    // Delete volume using instance-level method
    await volume.delete()
    ```

    ```python Python
    from blaxel.core import VolumeInstance

    # Get existing volume
    volume = await VolumeInstance.get("my-volume")

    # Delete volume using instance-level method
    await volume.delete()
    ```
    </CodeGroup>

## Resize a volume

<Note>Currently, it is only possible to increase the volume size (not decrease it). </Note>

Resize a volume by calling:

- the class-level `update()` method with the volume `name` and new size as argument, or

    <CodeGroup>
    ```typescript TypeScript
    import { VolumeInstance } from "@blaxel/core";

    // Update volume size
    const updatedVolume = await VolumeInstance.update("my-volume", { size: 1024 });
    ```

    ```python Python
    from blaxel.core import VolumeInstance

    # Update volume size
    updated_volume = await VolumeInstance.update("my-volume", { "size": 1024 })
    ```
    </CodeGroup>

- by calling the instance-level `update()` method with the new size as argument:

    <CodeGroup>
    ```typescript TypeScript
    import { VolumeInstance } from "@blaxel/core";

    // Get existing volume
    const volume = await VolumeInstance.get("my-volume");

    // Update volume size
    const updatedVolume = await volume.update({ size: 1024 });
    ```

    ```python Python
    from blaxel.core import VolumeInstance

    # Get existing volume
    volume = await VolumeInstance.get("my-volume")

    # Update volume size
    updated_volume = await volume.update({ size: 1024 })
    ```
    </CodeGroup>


## List volumes

To list existing volumes:

<CodeGroup>
```typescript TypeScript
const volumes = await VolumeInstance.list()
```

```shell Blaxel CLI
bl get volumes
```
</CodeGroup>

## Attach a volume to a sandbox

<Warning>At this time, you can only attach one volume to a sandbox. A volume can also only be attached to one sandbox at a time.</Warning>

To use a volume, attach it **when you create a sandbox** by passing an array of volume configurations to the `volumes` property.

Each configuration must include the `name` of the volume to attach and the `mountPath` where it will be accessible inside the sandbox's filesystem. The mount path **will override the existing content** of a directory.

```tsx
const sandbox = await SandboxInstance.create({
  name: "my-sandbox",
  image: "blaxel/nextjs:latest",
  memory: 4096,
  region: "us-pdx-1",     // Must be the same region as the created volume
  volumes: [{
    name: "my-volume",     // Must match the name of the created volume
    mountPath: "/app",     // Directory inside the sandbox
    readOnly: false       // Set to true to prevent writes
  }],
  // ... other sandbox properties
});
```

Any files written to the `/app` directory within this sandbox will be stored on `my-volume` and will persist even if this sandbox is deleted.

At this time, you cannot detach a volume from a sandbox.
